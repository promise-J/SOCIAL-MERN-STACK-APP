{"version":3,"sources":["redux/actions/index.js","redux/actions/authAction.js","components/topbar/Topbar.jsx","components/sidebar/Sidebar.jsx","components/share/Share.jsx","components/posts/Posts.jsx","components/main/Main.jsx","components/rightbar/Rightbar.jsx","components/home/Home.jsx","components/login/Login.jsx","components/conversation/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","components/messenger/Messenger.jsx","components/profile/Profile.jsx","components/register/Register.jsx","components/Landing.jsx","components/Notification/SingleNotification.jsx","components/Notification/Notification.jsx","components/AllUsers/OneUser.jsx","components/AllUsers/AllUsers.jsx","components/singlePost/SinglePost.jsx","App.js","redux/reducers/authReducers.js","redux/reducers/tokenReducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["ACTIONS","LOGIN","GET_TOKEN","GET_USER","LOGOUT","GET_POSTS_SUCCESS","GET_POSTS_FAILURE","GET_POSTS_REQUEST","dispatchLogin","type","dispatchLogout","fetchUser","token","a","axios","get","headers","Authorization","res","dispatchUser","payload","user","data","isAdmin","Topbar","cb","history","useHistory","dispatch","useDispatch","useState","logged","setLogged","conversation","setConversation","auth","useSelector","state","useEffect","isLogged","_id","getConversation","logout","localStorage","removeItem","push","className","to","style","textDecoration","color","Search","placeholder","onClick","Person","Chat","length","PeopleAltOutlined","notification","Notifications","notifications","username","src","profilePic","url","alt","Sidebar","RssFeed","Videocam","Group","Bookmark","HelpOutline","WorkOutline","Event","LocalLibrary","Share","setCb","file","setFile","loading","setLoading","content","useRef","handleSubmit","e","preventDefault","newPost","current","value","FormData","append","post","image","console","log","CircularProgress","ref","URL","createObjectURL","onSubmit","htmlFor","display","justifyContent","alignContent","VideoLibrary","htmlColor","cursor","onChange","target","files","accept","id","Label","LocationOn","EmojiEmotions","Posts","like","likes","setLikes","poster","setPoster","liked","setLiked","toggleOption","setToggleOption","includes","userId","getPoster","handleDelete","public_id","delete","likeHandler","put","opacity","width","format","Date","createdAt","MoreVertOutlined","ThumbUp","FavoriteOutlined","Main","SinglePostId","posts","setPosts","setPost","editDesc","setEditDesc","commentText","setCommentText","comments","setComments","reComment","setReComment","scrollRef","scrollIntoView","behavior","getPost","fetchPosts","sort","p1","p2","getComments","handleEdit","handleComment","postId","text","height","name","padding","outline","border","objectFit","position","top","right","background","map","c","fontSize","p","Rightbar","friends","setFriends","currentUser","followings","followed","setFollowed","friendList","getFriends","handleClick","Add","Remove","relationship","city","hometown","sex","friend","Home","initialState","email","password","error","Login","setUser","setItem","response","msg","handleChange","Conversation","members","find","m","getUser","deleteConversation","DeleteOutlineSharp","Message","own","message","otherUser","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","filter","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","setOtherUser","socket","loadingCon","setLoadingCon","io","on","sender","senderId","now","prev","emit","users","some","u","getConversations","receiverId","member","getOtherUser","getMessages","conversationId","fontStyle","borderRadius","marginLeft","disabled","Profile","useParams","userPost","coverPic","description","cf_password","props","setTimeout","Landing","margin","SingleNotification","noti","Notification","deleteNotification","notif","replace","DeleteOutline","OneUser","addFriend","recieverId","AllUsers","setUsers","getUsers","SinglePost","useLocation","pathname","split","overflow","flex","App","getItem","getToken","then","exact","path","Register","authReducer","action","tokenReducer","actions","combineReducers","store","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.397b896a.chunk.js","sourcesContent":["const ACTIONS = {\r\n    LOGIN: 'LOGIN',\r\n    GET_TOKEN: 'GET_TOKEN',\r\n    GET_USER: 'GET_USER',\r\n    LOGOUT: 'LOGOUT',\r\n    GET_POSTS_SUCCESS: 'GET_POSTS_SUCCESS',\r\n    GET_POSTS_FAILURE: 'GET_POSTS_FAILURE',\r\n    GET_POSTS_REQUEST: 'GET_POSTS_REQUEST'\r\n}\r\n\r\nexport default ACTIONS","import axios from \"axios\"\r\nimport ACTIONS from \"./index\"\r\n\r\n\r\nexport const dispatchLogin = () => {\r\n    return {\r\n        type: ACTIONS.LOGIN\r\n    }\r\n}\r\n\r\nexport const dispatchLogout = ()=> {\r\n    return {\r\n        type: ACTIONS.LOGOUT\r\n    }\r\n}\r\n\r\nexport const fetchUser = async (token)=> {\r\n    const res = await axios.get('/users/single', { \r\n        headers: {Authorization: token}\r\n    })\r\n    // console.log(res)\r\n    return res\r\n}\r\n\r\nexport const dispatchUser = (res)=> {\r\n    // console.log(res.data.role)\r\n    return {\r\n        type: ACTIONS.GET_USER,\r\n        payload: {\r\n            user: res.data,\r\n            isAdmin: res.data.isAdmin\r\n        },\r\n    }\r\n}\r\n\r\n","import './topbar.css'\r\nimport { Search, Person, Chat, Notifications, PeopleAltOutlined } from '@material-ui/icons'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport { dispatchLogout } from '../../redux/actions/authAction'\r\nimport { useEffect, useState } from 'react'\r\n\r\n\r\nfunction Topbar({cb}) {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const [logged, setLogged] = useState(false)\r\n    const [conversation, setConversation] = useState([])\r\n    const auth = useSelector(state=> state.auth)\r\n    const {user} = auth\r\n\r\n    useEffect(()=>{\r\n       setLogged(auth.isLogged)\r\n    },[auth.isLogged])\r\n\r\n    useEffect(()=>{\r\n      const getConversation = async()=>{\r\n         const res = await axios.get(\"/api/conversation/\"+ user?._id)\r\n         setConversation(res.data)\r\n      }\r\n      getConversation()\r\n    },[user._id, cb])\r\n\r\n    const logout = async ()=> {\r\n        try {\r\n            await axios.get('/auth/logout')\r\n            localStorage.removeItem('firstLogin')\r\n            dispatch(dispatchLogout())\r\n            history.push('/login')\r\n        } catch (error) {\r\n            localStorage.removeItem('firstLogin')\r\n            dispatch(dispatchLogout())\r\n            history.push('/login')\r\n        }\r\n    }\r\n//    if(user.length===0) return null\r\n    \r\n    return (\r\n        <div className='topbar'>\r\n            <div className=\"topbarWrapper\">\r\n                <div className=\"topbar-left\">\r\n                   <Link to='/home' style={{textDecoration: 'none', color: 'inherit'}}>\r\n                   G-STAR\r\n                   </Link> \r\n                </div>\r\n                <div className=\"topbar-center\">\r\n                    <div className=\"topbarSearch\">\r\n                        <Search className='topbarSearchIcon' />\r\n                        <input placeholder=\"Search for friends, post or Video\" className=\"topbarSearchInput\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"topbar-right\">\r\n                    <div className=\"topbarRightLinks\">\r\n                        <div className=\"topbarRightLink\">\r\n                            {\r\n                                logged ?  <Link to='#'\r\n                                style={{textDecoration: 'none', color: 'inherit'}}\r\n                                onClick={logout}\r\n                                >\r\n                               <h5>Logout</h5>\r\n                               </Link>  :  <Link to='/login'\r\n                           style={{textDecoration: 'none', color: 'inherit'}}>\r\n                          <h5>Login</h5>\r\n                          </Link>  \r\n                            }\r\n                         \r\n                        </div>\r\n                        <div className=\"topbarRightLink\">\r\n                            <h5>Timeline</h5>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"topbarRightIcons\">\r\n                        <div className=\"topbarRightIcon\">\r\n                            <Person />\r\n                            {0>1 && <span className=\"topbarRightLabel\"></span> }\r\n                        </div>\r\n                        <Link style={{textDecoration: 'none', color: 'inherit'}} to='/messenger'>\r\n                            <div className=\"topbarRightIcon\">\r\n                              <Chat />\r\n                              <span className=\"topbarRightLabel\">{conversation.length}</span>\r\n                            </div>\r\n                        </Link>\r\n                        <Link to='/allUsers' style={{textDecoration: 'none', color: 'inherit'}}>\r\n                            <div className=\"topbarRightIcon\">\r\n                            <PeopleAltOutlined />\r\n                            <span className=\"topbarRightLabel\">+</span>\r\n                            </div>\r\n                        </Link>\r\n                        {\r\n                            user?.notification?.length !== 0 && \r\n                        <Link style={{textDecoration: 'none', color: 'inherit'}} to='/notifications'>\r\n                            <div className=\"topbarRightIcon\">\r\n                            <Notifications />\r\n                            {user?.notification?.length > 0 && <span className=\"topbarRightLabel\">{user?.notifications?.length}</span>}\r\n                        </div>\r\n                        </Link>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    logged ? <Link to={`/profile/${user.username}`}>\r\n                        <img src={user?.profilePic?.url} alt=\"here\" className=\"topbarRightImg\" /> \r\n                    </Link>\r\n                    : null\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Topbar\r\n","import './sidebar.css'\r\nimport {Chat, RssFeed, Videocam, Group, Bookmark, HelpOutline, WorkOutline, LocalLibrary, Event} from '@material-ui/icons'\r\n\r\nfunction Sidebar() {\r\n    return (\r\n        <div className='sidebar'>\r\n            <div className=\"sidebarWrapper\">\r\n            <ul className=\"sidebarItemLists\">\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <RssFeed />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Feed</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <Chat />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Chat</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <Videocam />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Video</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <Group />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Group</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <Bookmark />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Bookmarks</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <HelpOutline />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Questions</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <WorkOutline />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Jobs</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <Event />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Events</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                    <span className=\"sidebarItemIcon\">\r\n                        <LocalLibrary />\r\n                    </span>\r\n                    <span className=\"sidebarItemName\">Courses</span>\r\n                </li>\r\n                <li className=\"sidebarItemList\">\r\n                   \r\n                    <span className=\"sidebarItemName\"><button className='sidebarMore'>Show More</button></span>\r\n                </li>\r\n            </ul>\r\n            <hr className=\"sidebarHr\" />\r\n            <ul className=\"sidebarFriends\">\r\n                <li className=\"sidebarFriend\">\r\n                    <img src=\"/images/promise.jpg\" alt=\"\" className=\"sidebarFriendImg\" />\r\n                    <span className=\"sidebarFriendName\">Promise</span>\r\n                </li>\r\n                <li className=\"sidebarFriend\">\r\n                    <img src=\"/images/promise.jpg\" alt=\"\" className=\"sidebarFriendImg\" />\r\n                    <span className=\"sidebarFriendName\">Promise</span>\r\n                </li>\r\n                <li className=\"sidebarFriend\">\r\n                    <img src=\"/images/promise.jpg\" alt=\"\" className=\"sidebarFriendImg\" />\r\n                    <span className=\"sidebarFriendName\">Promise</span>\r\n                </li>\r\n                <li className=\"sidebarFriend\">\r\n                    <img src=\"/images/promise.jpg\" alt=\"\" className=\"sidebarFriendImg\" />\r\n                    <span className=\"sidebarFriendName\">Promise</span>\r\n                </li>\r\n                <li className=\"sidebarFriend\">\r\n                    <img src=\"/images/promise.jpg\" alt=\"\" className=\"sidebarFriendImg\" />\r\n                    <span className=\"sidebarFriendName\">Promise</span>\r\n                </li>\r\n                <li className=\"sidebarFriend\">\r\n                    <img src=\"/images/promise.jpg\" alt=\"\" className=\"sidebarFriendImg\" />\r\n                    <span className=\"sidebarFriendName\">Promise</span>\r\n                </li>\r\n                <li className=\"sidebarFriend\">\r\n                    <img src=\"/images/promise.jpg\" alt=\"\" className=\"sidebarFriendImg\" />\r\n                    <span className=\"sidebarFriendName\">Promise</span>\r\n                </li>\r\n            </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import { EmojiEmotions, Label, LocationOn, VideoLibrary } from '@material-ui/icons'\r\nimport { useRef, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux'\r\nimport {CircularProgress} from '@material-ui/core'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nfunction Share({cb, setCb}) {\r\n       const { token } = useSelector(state => state.token)\r\n       const auth = useSelector(state => state.auth)\r\n       const { user } = auth\r\n       const [file, setFile] = useState(null)\r\n       const [loading, setLoading] = useState(false)\r\n\r\n       const content = useRef()\r\n\r\n       const handleImage = (e)=>{\r\n              setFile(e.target.files[0])\r\n       }\r\n\r\n\r\n\r\n       const handleSubmit = async (e) => {\r\n              setLoading(true)\r\n              e.preventDefault()\r\n              const newPost = {\r\n                     content: content.current.value\r\n              }\r\n              if (file) {\r\n                     const data = new FormData();\r\n                     data.append(\"file\", file);\r\n                     try {\r\n                       const res = await axios.post(\"/api/upload\", data, {headers: {Authorization: token}});\r\n                       newPost.image = res.data\r\n                     } catch (err) {\r\n                            console.log(err)\r\n                     }\r\n                   }\r\n                   try {\r\n                     await axios.post(\"/posts\", newPost, {headers: {Authorization: token}});\r\n              } catch (err) {\r\n                          console.log(err)\r\n                     }\r\n                     setFile(null)\r\n                     setCb(!cb)\r\n                   setLoading(false)\r\n       }\r\n\r\n      if(loading) return <CircularProgress /> \r\n\r\n       return (\r\n                  <div className=\"mainShare\">\r\n                     <div className=\"mainShareTop\">\r\n                     <Link to={`/profile/${user?.username}`}>\r\n                            <img src={user?.profilePic?.url} alt=\"\" className=\"mainShareProfileImg\" />\r\n                            </Link>\r\n                            <input placeholder={`What is on your mind ${user?.username}?`}\r\n                                   ref={content}\r\n                                    className=\"mainShareInput\"\r\n                                      />\r\n                     </div>\r\n                     <hr className='mainShareHr' />\r\n                     {\r\n                            file && <div className=\"uploadImage\">\r\n                                   <span onClick={(e) => setFile(null)} className=\"cancelImgUpload\">x</span>\r\n                                   <img src={URL.createObjectURL(file)} alt=\"\" className=\"uploadImg\" />\r\n                            </div>\r\n                     }\r\n\r\n                     <form onSubmit={handleSubmit} className=\"mainShareBottom\">\r\n                            <div className=\"mainShareBottomIcons\">\r\n                                   <div className=\"mainShareBottomIcon\">\r\n                                          <label htmlFor=\"file\" style={{ display: 'flex', justifyContent: 'center', alignContent: 'center' }} >\r\n                                                 <VideoLibrary htmlColor='crimson' htmlFor='file' style={{ cursor: 'pointer' }} />\r\n                                                 <span style={{ cursor: 'pointer' }} className=\"mainShareBottomText\">Photo or Video</span>\r\n                                          </label>\r\n                                          <input onChange={handleImage}\r\n                                                 accept='.png, .jpeg, .jpg'\r\n                                                 type=\"file\" id='file'\r\n                                                 style={{ display: 'none' }}\r\n                                          />\r\n                                   </div>\r\n                                   <div className=\"mainShareBottomIcon\">\r\n                                          <Label htmlColor='blue' />\r\n                                          <span className=\"mainShareBottomText\">Tag</span>\r\n                                   </div>\r\n                                   <div className=\"mainShareBottomIcon\">\r\n                                          <LocationOn htmlColor='green' />\r\n                                          <span className=\"mainShareBottomText\">Location</span>\r\n                                   </div>\r\n                                   <div className=\"mainShareBottomIcon\">\r\n                                          <EmojiEmotions htmlColor='rgb(172, 147, 5)' />\r\n                                          <span className=\"mainShareBottomText\">Feelings</span>\r\n                                   </div>\r\n                            </div>\r\n                            <button type='submit' className=\"mainShareButton\">Share</button>\r\n                     </form>\r\n              </div>\r\n                     )\r\n\r\n}\r\n\r\nexport default Share\r\n","import { FavoriteOutlined, MoreVertOutlined, ThumbUp } from '@material-ui/icons'\r\nimport axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\n// import {useSelector} from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport {format} from 'timeago.js'\r\n\r\nfunction Posts({post, cb, setCb}) {\r\n    const [likes, setLikes] = useState(post.like.length)\r\n    // const {user} = useSelector(state=> state.auth)\r\n    // const {token} = useSelector(state=> state.token)\r\n    const [poster, setPoster] = useState(null)\r\n    const [liked, setLiked] = useState(false)\r\n    const [toggleOption, setToggleOption] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        setLiked(post.like.includes(poster?._id))\r\n    },[post, poster?._id])\r\n    \r\n    useEffect(()=>{\r\n       const getPoster = async()=>{\r\n         const res = await axios.get(`/users/?userId=${post.userId}`)\r\n         setPoster(res.data)\r\n       }\r\n       getPoster()\r\n    },[post.userId])\r\n\r\n    const handleDelete = async(post)=>{\r\n        try {\r\n            if(post.public_id){\r\n                const res = await axios.post('/api/destroy', {public_id: post.image.public_id})\r\n                console.log(res.data)\r\n            }\r\n            const res = await axios.delete(`/posts/${post._id}?userId=${poster._id}`)\r\n            console.log(res.data)\r\n            setCb(!cb)\r\n        } catch (error) {\r\n            console.log(error, poster._id)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const likeHandler = async()=>{\r\n        try {\r\n            await axios.put(`/posts/${post._id}/like`, {userId: poster._id})\r\n            setLikes(liked ? likes - 1 : likes + 1)\r\n            setLiked(!liked)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const toggleOptions = ()=>{\r\n        setToggleOption(!toggleOption)\r\n    }\r\n   \r\n\r\n    return (\r\n        <div onClick={()=> toggleOption && setToggleOption(false)} className=\"mainPost\">\r\n        <div className=\"mainPostTop\">\r\n            <div style={{opacity: toggleOption ? '1' : '0'}} className=\"extra-dot\">\r\n                <Link style={{color: 'inherit', textDecoration: 'none', width: '100%'}} to={`/post/${post._id}`}><p>Edit</p></Link>\r\n                <p onClick={()=> handleDelete(post)}>Delete</p>\r\n            </div>\r\n            <div className=\"mainPostDetails\">\r\n                <Link to={`/profile/${poster?.username}`}>\r\n               <img src={poster?.profilePic?.url} alt=\"\" className=\"mainPostImg\" />\r\n                </Link>\r\n               <span className=\"mainPostUsername\">{poster?.username}</span>\r\n               <span className=\"mainPostTime\">{format(new Date(post.createdAt))}</span>\r\n            </div>\r\n            <MoreVertOutlined onClick={toggleOptions} />\r\n        </div>\r\n        <div className=\"mainPostBody\">\r\n            <p className=\"mainPostDescription\">{post.content}</p>\r\n            {\r\n               post.image && <img src={post.image?.url} alt=\"\" className=\"mainPostTitleImg\" />\r\n            }\r\n        </div>\r\n        <div className=\"mainPostBottom\">\r\n            <div className=\"mainPostBottomLike\">\r\n               <ThumbUp onClick={likeHandler} className='mainPostBottomLikeIcon' />\r\n               <FavoriteOutlined onClick={likeHandler} className='mainPostBottomHeartIcon' />\r\n               <span className=\"mainPostLikeCon\">{likes < 1 ? 'No likes' : likes} {likes < 1 ? '' : likes === 1 ? 'person' : 'people liked it'}</span>\r\n            </div>\r\n            <div className=\"mainPostBottomComment\">\r\n                <Link style={{color: 'inherit', textDecoration: 'none'}} to={`/post/${post._id}`}>View Comments</Link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Posts\r\n","import './main.css'\r\nimport Share from '../share/Share'\r\nimport Posts from '../posts/Posts'\r\nimport { useSelector } from 'react-redux'\r\n// import {CircularProgress} from '@material-ui/core'\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { MoreVertOutlined } from '@material-ui/icons'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { format } from 'timeago.js'\r\n\r\n\r\nfunction Main({username, SinglePostId}) {\r\n    // const {posts} = useSelector(state=> state.posts)\r\n    const history = useHistory()\r\n    const auth = useSelector(state=> state.auth)\r\n    // const {posts: allPosts} = useSelector(state=> state.posts)\r\n    const [posts, setPosts] = useState([])\r\n    const [cb, setCb] = useState(false)\r\n    const {user} = auth\r\n    const [post, setPost] = useState({})\r\n    const [poster, setPoster] = useState('')\r\n    const [editDesc, setEditDesc] = useState('')\r\n    const [commentText, setCommentText] = useState('')\r\n    const [comments, setComments] = useState([])\r\n    const [loading, setLoading] = useState(false)\r\n    const [reComment, setReComment] = useState(false)\r\n    const scrollRef = useRef();\r\n\r\n    useEffect(() => {\r\n      scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [comments]);\r\n\r\n    \r\n    useEffect(()=>{\r\n      const getPost = async()=>{\r\n        const res = await axios.get(`/posts/${SinglePostId}`)\r\n        setPost(res.data)\r\n        setEditDesc(res.data.content)\r\n      }\r\n      getPost()\r\n    },[SinglePostId])\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n          setLoading(true)\r\n          const res = username\r\n            ? await axios.get(\"/posts/profile/\" + username)\r\n            : await axios.get(\"posts/timeline/\" + user?._id);\r\n            console.log(res, username)\r\n          setPosts(\r\n            res.data && res.data?.sort((p1, p2) => {\r\n              return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n            })\r\n          );\r\n        };\r\n        setLoading(false)\r\n        fetchPosts();\r\n\r\n      }, [username, user._id, cb]);\r\n\r\n      useEffect(()=>{\r\n       const getComments = async()=>{\r\n         const res = await axios.get(`/api/comment/all/${post._id}`)\r\n         setComments(res.data)\r\n       }\r\n       getComments()\r\n      }, [post._id, reComment])\r\n\r\n      useEffect(()=>{\r\n        const getPoster = async()=>{\r\n          const res = await axios.get(`/users/?userId=${post.userId}`)\r\n          setPoster(res.data)\r\n        }\r\n        if(post){\r\n          getPoster()\r\n        }\r\n     },[post.userId, post])\r\n\r\n     const handleEdit = async()=>{\r\n       try {\r\n         await axios.put(`/posts/update/${post._id}`, {userId: user._id, content: editDesc})\r\n         history.push('/home')\r\n        //  console.log(res)\r\n\r\n       } catch (error) {\r\n         console.log(error)\r\n       }\r\n     }\r\n\r\n      const handleComment = async()=>{\r\n        try {\r\n          if(!commentText) return\r\n          await axios.post('/api/comment', {user: user, postId: post._id, text: commentText})\r\n          setCommentText('')\r\n          setReComment(!reComment)\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n\r\n\r\n      if(SinglePostId) return (\r\n        <div style={{ height: '100%'}} className=\"main\">\r\n          <div className=\"mainWrapper\">\r\n          <div className=\"mainPost\" style={{width: SinglePostId && '63%'}}>\r\n        <div className=\"mainPostTop\">\r\n            \r\n            <div className=\"mainPostDetails\">\r\n                <Link to={`/profile/${poster?.username}`}>\r\n               <img src={poster?.profilePic?.url} alt=\"i\" className=\"mainPostImg\" />\r\n                </Link>\r\n               <span className=\"mainPostUsername\">{poster?.username}</span>\r\n               <span className=\"mainPostTime\">{format(new Date(post.createdAt))}</span>\r\n            </div>\r\n            <MoreVertOutlined />\r\n        </div>\r\n        <div className=\"mainPostBody\">\r\n            <p className=\"mainPostDescription\"><input name='desc' style={{padding: 10}} value={editDesc} onChange={(e)=> setEditDesc(e.target.value)} style={{width: '100%', height: '30px', outline: 'none', border: '1px solid gray'}} placeholder='Text here' /></p>\r\n            {\r\n               post.image && <img src={post.image?.url} alt=\"i\" style={{width: SinglePostId && '100%', height: SinglePostId && '150px', objectFit: 'cover'}} className=\"mainPostTitleImg\" />\r\n            }\r\n        </div>\r\n        <div className=\"mainPostBottom\">\r\n            <div className=\"mainPostBottomComment\" style={{width: '100%', height: '20px'}}>\r\n                <span>{comments && comments.length} comments</span>\r\n                <button onClick={handleEdit} style={{position: 'absolute', top: '0', right: '0', \r\n                padding: '5px 12px', background: 'teal', color: 'white', outline: 'none', border: 'none'}}>Save</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n        <div className=\"comments\">\r\n          <div className=\"comments-input-div\">\r\n          <input className='comment-input' name='comment' value={commentText} onChange={(e)=> setCommentText(e.target.value)} placeholder='Comment here' />\r\n          {commentText && <button onClick={handleComment}>Comment</button>}\r\n          </div>\r\n          {\r\n            comments && comments.map(c=>(\r\n            <div ref={scrollRef} key={c._id} className=\"comment\">\r\n             <img src={c?.user?.profilePic?.url} alt=\"none\" />\r\n             <span>{c.text}</span>\r\n            </div>\r\n            ))\r\n          }\r\n        </div>\r\n          </div>\r\n        </div>\r\n      )\r\n      \r\n\r\n    \r\n    return (\r\n        <div className='main'>\r\n            <div className=\"mainWrapper\">\r\n            \r\n            {\r\n                !username &&   <Share cb={cb} setCb={setCb} />\r\n            }\r\n            {   posts?.length ===0 ? <h2 style={{fontSize: 67, color: 'gray'}}>No Post yet </h2> : \r\n                posts?.map(p=>(\r\n                    <Posts user={user} setCb={setCb} cb={cb} post={p} key={p._id} />\r\n                ))\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n"," import { Add, Remove } from '@material-ui/icons'\r\nimport axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n// import Online from '../online/online'\r\nimport './rightbar.css'\r\n\r\n\r\nfunction Rightbar({user}) {\r\n  const [friends, setFriends] = useState([])\r\n  const auth = useSelector(state=> state.auth)\r\n  const {token} = useSelector(state=> state.token)\r\n  const {user: currentUser} = auth\r\n  const [followed, setFollowed] = useState(\r\n    currentUser?.followings?.includes(user?._id)\r\n  );\r\n\r\n\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      try {\r\n        const friendList = await axios.get(\"/users/friends/\" + user._id);\r\n        setFriends(friendList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getFriends();\r\n  }, [user]);\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      // if (followed) {\r\n        // await axios.put(`/users/${user._id}/unfollow`, {userId: currentUser?._id});\r\n        // console.log('You unfollowed this user ')\r\n        // setFollowed(!followed)\r\n      // } else {\r\n        await axios.put(`/users/${user._id}/follow`, {userId: currentUser?._id});\r\n        setFollowed(!followed)\r\n      // }\r\n      // setFollowed(!followed);\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  };\r\n\r\n    return (\r\n        <div className='rightbar'>\r\n          <div className='rightbarWrapper'>\r\n          {user && (user?.username !== currentUser?.username) && \r\n          (\r\n          <>\r\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\r\n            {!followed ? \"Unfollow\" : \"Follow\"}\r\n            {!followed ? <Remove /> : <Add />}\r\n          </button>\r\n          <button className='rightbarMessageButton'>Add Friend</button>\r\n          </>\r\n        )}\r\n            {\r\n              user && (\r\n                <div className=\"userDetails\">\r\n                  <div className=\"userDetail\">\r\n                    <span>Relationship</span>\r\n                    <span><b>{user.relationship ? user?.relationship : 'N/A'}.</b></span>\r\n                  </div>\r\n                  <div className=\"userDetail\">\r\n                    <span>City: </span>\r\n                    <span><b>{user.city ? user?.city : 'N/A'}.</b></span>\r\n                  </div>\r\n                  <div className=\"userDetail\">\r\n                    <span>Home town: </span>\r\n                    <span><b>{user.hometown ? user?.hometown : 'N/A'}.</b></span>\r\n                  </div>\r\n                  <div className=\"userDetail\">\r\n                    <span>Sex: </span>\r\n                    <span><b>{user.sex ? user?.sex : 'N/A'}.</b></span>\r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n            <div className='rightbarTop'>\r\n            <div className='rightbarBirthday'>\r\n               <img src='/images/w1.jpeg' className='rightbarBirthdayImg' alt='' />\r\n               <div className=\"rightbarBirthdayDiv\">\r\n                 <span className=\"rightbarBirthdayText\">\r\n                   <b>Favour Johnson</b> and <b>3 others friends</b> have birthday today.\r\n                 </span>\r\n               </div>\r\n            </div>\r\n            </div>\r\n            <div className=\"rightbarImageContainer\">\r\n            <img src={`/images/w4.jpeg`} alt=\"\" className=\"rightbarImage\" />\r\n            </div>\r\n            <div className=\"rightbarOnlineFriends\">\r\n              <h3 className='rightbarOnlineHead'>{friends.length===0 ? '' : 'Online Friends'}</h3>\r\n              {\r\n                friends.length === 0 ? <h2>Connect to friends Now!</h2> :\r\n                friends.map(friend=>(\r\n              <ul className=\"rightbarOnlineFriendLists\">\r\n                <Link style={{color: 'inherit', textDecoration: 'none'}} to={`/profile/${friend?.username}`}>\r\n                <li className=\"rightbarOnlineFriendList\">\r\n                  <div className=\"rightbarOnlineStatus\"></div>\r\n                  <img src={friend?.profilePic?.url} alt=\"\" className=\"rightbarOnlineFriendImg\" />\r\n                  <span className=\"rightbarOnlineFriendName\">{friend?.username}</span>\r\n                </li>\r\n                </Link>\r\n              </ul>\r\n                ))\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Rightbar\r\n","import Topbar from '../topbar/Topbar'\r\nimport Sidebar from '../sidebar/Sidebar'\r\nimport Main from '../main/Main'\r\nimport Rightbar from '../rightbar/Rightbar'\r\nimport './home.css'\r\n\r\nfunction Home() {\r\n    \r\n    return (\r\n        <>\r\n        <Topbar />\r\n        <div className='home'>\r\n           <Sidebar />\r\n           <Main />\r\n           <Rightbar />\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import './login.css'\r\nimport Topbar from '../topbar/Topbar'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\nimport {CircularProgress} from '@material-ui/core'\r\nimport {useDispatch} from 'react-redux'\r\nimport {dispatchLogin} from '../../redux/actions/authAction'\r\n\r\n\r\nconst initialState = {\r\n    email: '',\r\n    password: '',\r\n    error: ''\r\n}\r\n\r\nfunction Login() {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [loading, setLoading] = useState(false)\r\n    const [user, setUser] = useState(initialState)\r\n    const {email, password, error} = user\r\n\r\n    const handleSubmit = async (e)=>{\r\n      e.preventDefault()\r\n      setLoading(true)\r\n      try {\r\n          const res = await axios.post('/auth/login', {email, password})\r\n          localStorage.setItem('firstLogin', true)\r\n          dispatch(dispatchLogin())\r\n          history.push('/home')\r\n        //   console.log(res)\r\n      } catch (error) {\r\n          error?.response && setUser({...user, error: error.response.data.msg})\r\n      }\r\n      setLoading(false)\r\n    }\r\n\r\n    const handleChange = (e)=>{\r\n        const {value, name} = e.target\r\n        setUser({...user, [name]: value})\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <div className=\"loginLeft\">\r\n                <h2>G-STAR</h2>\r\n                <img \r\n                src=\"https://cdn.dribbble.com/users/24078/screenshots/15522433/media/e92e58ec9d338a234945ae3d3ffd5be3.jpg?compress=1&resize=400x300\"\r\n                 alt=\"\" className=\"loginImg\" />\r\n            </div>\r\n            <div className=\"loginRight\">\r\n                \r\n                <form onSubmit={handleSubmit} className='loginForm'>\r\n                <h4 className='loginHead'>Login Now</h4>\r\n                    {error && <span style={{color: 'red', fontSize: '17px'}}>{error}</span>}\r\n                    <input onChange={handleChange}\r\n                     name='email' value={email} type=\"email\"\r\n                      className=\"loginInput\" placeholder='Email here' />\r\n                    <input onChange={handleChange}\r\n                     name='password' value={password} type=\"password\"\r\n                      className=\"loginInput\" placeholder='Password here' />\r\n                    <button className='loginButton' type='submit'>\r\n                        {loading ? <CircularProgress style={{color: 'white'}} /> : 'Login' }</button>\r\n                    <p className='loginAccountCheck'>Don't have an account yet?</p>\r\n                    <Link className='loginRegisterButton' to='/register' type='submit'>Register</Link>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import { useEffect, useState } from \"react\"\r\nimport axios from 'axios'\r\nimport './conversation.css'\r\nimport { DeleteOutlineSharp } from \"@material-ui/icons\"\r\n\r\nfunction Conversation({currentUser, cb, conversation, setCb}) {\r\n    const [user, setUser] = useState()\r\n\r\n    useEffect(()=>{\r\n       const friend = conversation.members.find(m=> m !== currentUser?._id)\r\n    //    console.log(friend, ' my guy')\r\n       const getUser = async()=>{\r\n         const res = await axios.get(`/users/?userId=${friend}`)\r\n         setUser(res.data)\r\n       }\r\n       getUser()\r\n    },[conversation.members, currentUser?._id])\r\n\r\n    const deleteConversation = async()=>{\r\n        const res = await axios.delete(`api/conversation/${conversation._id}`)\r\n        setCb(!cb)\r\n        console.log(res)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='chatMenuFriend'>\r\n            <img\r\n                src={user && user?.profilePic?.url}\r\n                alt=\".\"\r\n                className=\"chatMenuFriendImg\" />\r\n            <span className=\"chatMenuFriendName\">{user && user?.username}</span>\r\n            <span onClick={deleteConversation} className='chatMenuDeleteIcon'><DeleteOutlineSharp style={{fontSize: '20px'}}/> </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Conversation\r\n","import React from 'react'\r\nimport \"./message.css\";\r\nimport {format} from 'timeago.js'\r\n\r\nfunction Message({own, message, otherUser}) {\r\n    return (\r\n                    <div className={own ? \"message own\" : \"message\"}>\r\n                      <div className='messageTop'>\r\n                              <img\r\n                                className=\"messageImg\"\r\n                                src={otherUser?.profilePic.url}\r\n                                alt=\"\"\r\n                              />\r\n                              <p className=\"messageText\">{message.text}</p>\r\n                      </div>\r\n                      <div className=\"messageBottom\">{format(message.createdAt)}</div>\r\n                    </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export default function Message({ message, own }) {\r\n//   return (\r\n//     <div className={own ? \"message own\" : \"message\"}>\r\n//       <div className=\"messageTop\">\r\n        // <img\r\n        //   className=\"messageImg\"\r\n        //   src=\"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\r\n        //   alt=\"\"\r\n        // />\r\n        // <p className=\"messageText\">{message.text}</p>\r\n//       </div>\r\n      // <div className=\"messageBottom\">{format(message.createdAt)}</div>\r\n//     </div>\r\n//   );\r\n// }","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./chatOnline.css\";\r\n\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n  const [friends, setFriends] = useState([]);\r\n  const [onlineFriends, setOnlineFriends] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      const res = await axios.get(\"/users/friends/\" + currentId);\r\n      setFriends(res.data);\r\n    };\r\n\r\n    getFriends();\r\n  }, [currentId]);\r\n\r\n  useEffect(() => {\r\n    setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\r\n  }, [friends, onlineUsers]);\r\n\r\n  const handleClick = async (user) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `/conversations/find/${currentId}/${user._id}`\r\n      );\r\n      setCurrentChat(res.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatOnline\">\r\n      {onlineFriends.map((o) => (\r\n        <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\r\n          <div className=\"chatOnlineImgContainer\">\r\n            <img\r\n              className=\"chatOnlineImg\"\r\n              src={o?.profilePic?.url}\r\n              alt=\"\"\r\n            />\r\n            <div className=\"chatOnlineBadge\"></div>\r\n          </div>\r\n          <span className=\"chatOnlineName\">{o?.username}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}","import \"./messenger.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Conversation from '../conversation/Conversation'\r\nimport Message from \"../../components/message/Message\";\r\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\nexport default function Messenger() {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [otherUser, setOtherUser] = useState(null)\r\n  const [cb, setCb] = useState(false)\r\n  const socket = useRef();\r\n  const { user } = useSelector(state => state.auth)\r\n  const scrollRef = useRef();\r\n  const [loadingCon, setLoadingCon] = useState(false)\r\n\r\n  useEffect(() => {\r\n    socket.current = io();\r\n    // socket.current = io(\"ws://localhost:5000\");\r\n    socket.current.on(\"getMessage\", (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    socket.current.emit(\"addUser\", user._id);\r\n    socket.current.on(\"getUsers\", (users) => {\r\n      setOnlineUsers(\r\n        user.followings?.filter((f) => users.some((u) => u.userId === f))\r\n      );\r\n    });\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        setLoadingCon(true)\r\n        const res = await axios.get(\"/api/conversation/\" + user._id);\r\n        setConversations(res.data);\r\n        setLoadingCon(false)\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user._id, cb]);\r\n   \r\n  //getting the other user Id\r\n  useEffect(()=>{\r\n     const receiverId = currentChat?.members?.find(\r\n      (member) => member !== user._id\r\n    );\r\n    const getOtherUser = async()=>{\r\n      const res = await axios.get(`/users?userId=${receiverId}`)\r\n      setOtherUser(res.data)\r\n    }\r\n    getOtherUser()\r\n  },[messages, conversations, currentChat?.members, user._id])\r\n\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\"/api/message/\" + currentChat?._id);\r\n        setMessages(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n  }, [currentChat, cb]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = {\r\n      sender: user._id,\r\n      text: newMessage,\r\n      conversationId: currentChat._id,\r\n    };\r\n\r\n    const receiverId = currentChat.members.find(\r\n      (member) => member !== user._id\r\n    );\r\n    \r\n\r\n    socket.current.emit(\"sendMessage\", {\r\n      senderId: user._id,\r\n      receiverId,\r\n      text: newMessage,\r\n    });\r\n\r\n    try {\r\n      const res = await axios.post(\"/api/message\", message);\r\n      setMessages([...messages, res.data]);\r\n      setNewMessage(\"\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"messenger\">\r\n        <div className=\"chatMenu\">\r\n          <div className=\"chatMenuWrapper\">\r\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\r\n            {!loadingCon ? conversations.map((c) => (\r\n              <div onClick={() => setCurrentChat(c)}>\r\n                <Conversation conversation={c} cb={cb} setCb={setCb} currentUser={user} />\r\n              </div>\r\n            )) : <p>Loading...</p>}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatBox\">\r\n          <div className=\"chatBoxWrapper\">\r\n            {\r\n                currentChat &&\r\n              <div className=\"chatDetailsDisplay\">\r\n                <h3 style={{fontStyle: 'italic'}}>{otherUser?.username}</h3>\r\n                <img style={{width: '25px', height: '25px', borderRadius: '50%', marginLeft: '20px'}} alt='none' src={otherUser?.profilePic?.url} />\r\n            </div>\r\n            }\r\n            {currentChat ? (\r\n              <>\r\n                <div className=\"chatBoxTop\">\r\n                  {messages.map((m) => (\r\n                    <div ref={scrollRef}>\r\n                      <Message otherUser={otherUser} message={m} own={m.sender === user._id} />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"chatBoxBottom\">\r\n                  <textarea\r\n                    className=\"chatMessageInput\"\r\n                    placeholder=\"write something...\"\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    value={newMessage}\r\n                  ></textarea>\r\n                  <button className=\"chatSubmitButton\" disabled={!newMessage} onClick={handleSubmit}>\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <span className=\"noConversationText\">\r\n                Open a conversation to start a chat.\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatOnline\">\r\n          <div className=\"chatOnlineWrapper\">\r\n          <h2>Online friends</h2>\r\n            <ChatOnline\r\n              onlineUsers={onlineUsers}\r\n              currentId={user._id}\r\n              setCurrentChat={setCurrentChat}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import './profile.css'\r\nimport Topbar from '../topbar/Topbar'\r\nimport Sidebar from '../sidebar/Sidebar'\r\nimport Main from '../main/Main'\r\nimport Rightbar from '../rightbar/Rightbar'\r\n// import { useSelector } from 'react-redux'\r\nimport { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useParams } from 'react-router'\r\n\r\n\r\nfunction Profile() {\r\n    // const auth = useSelector(state=> state.auth)\r\n    // const {token} = useSelector(state=> state.token)\r\n    const [user, setUser] = useState({})\r\n    const [posts, setPosts] = useState([])\r\n    // const {user} = auth\r\n    const {username} = useParams()\r\n\r\n    useEffect(()=>{\r\n      const userPost = async()=>{\r\n        const res = await axios.get(`/posts/profile/${username}`)\r\n        setPosts(res.data)\r\n      }\r\n      userPost()\r\n    },[username])\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n          const res = await axios.get(`/users?username=${username}`);\r\n          setUser(res.data);\r\n        };\r\n        fetchUser();\r\n      }, [username]);\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n        <div className='profile'>\r\n            <Sidebar />\r\n            <div className=\"profileChange\">\r\n            <div className=\"profileNew\">\r\n                <div className=\"profileImg\">\r\n                   <img src={user?.profilePic?.url} alt=\"profile here\" className=\"profileImgPic\" />\r\n                   <img src={user?.coverPic?.url} alt=\"cover here\" className=\"profileImgCover\" />\r\n                </div>\r\n                <div className=\"profileDescription\">\r\n                    <h1>{user.username}</h1>\r\n                    <p>{user.description || 'Please add a description'}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"profileBottom\">\r\n            <Main Posts={posts} username={username} />\r\n            <Rightbar user={user} />\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import './register.css'\r\nimport Topbar from '../topbar/Topbar'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\nimport {CircularProgress} from '@material-ui/core'\r\n\r\nconst initialState = {\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    cf_password: '',\r\n    error: ''\r\n}\r\n\r\nfunction Login(props) {\r\n    const [user, setUser] = useState(initialState)\r\n    const [loading, setLoading] = useState(false)\r\n    const {email, username, password, cf_password, error} = user\r\n    const history = useHistory()\r\n\r\n    const handleChange = (e)=>{\r\n        const {value, name} = e.target\r\n        setUser({...user, [name]: value})\r\n    }\r\n\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault()\r\n        if(!password || !email || !username){\r\n            setUser({...user, error: 'Fields must not be empty.'})\r\n           return setTimeout( ()=>setUser({...user, error: \"\"}),[3000]) \r\n        }\r\n        if(password.length < 6){\r\n            setUser({...user, error: 'Password must be atleast 6 characters.'})\r\n            return setTimeout( ()=>setUser({...user, error: \"\"}),[3000]) \r\n        }\r\n        if(cf_password !== password){\r\n            setUser({...user, error: 'Passwords do not match.'})\r\n            return setTimeout( ()=>setUser({...user, error: \"\"}),[3000]) \r\n        }\r\n            \r\n        try {\r\n            setLoading(true)\r\n            await axios.post('/auth/register', {email, password, username})\r\n            history.push('/login')\r\n        } catch (error) {\r\n            if(error.response.data){\r\n                setUser({...user, error: error.response.data.msg})\r\n                return setTimeout( ()=>{\r\n                    setLoading(false)\r\n                    setUser({...user, error: \"\"})\r\n                },[3000]) \r\n            }\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <div className='register'>\r\n            <div className=\"registerLeft\">\r\n                <h2>G-STAR</h2>\r\n                <img \r\n                src=\"https://cdn.dribbble.com/users/24078/screenshots/15522433/media/e92e58ec9d338a234945ae3d3ffd5be3.jpg?compress=1&resize=400x300\"\r\n                 alt=\"\" className=\"registerImg\" />\r\n            </div>\r\n            <div className=\"registerRight\">\r\n                <form className='registerForm' onSubmit={handleSubmit}>\r\n                <h4 className='registerHead'>Register Now</h4>\r\n                   {error && <span style={{color: 'red', fontSize: '17px'}}>{error}</span>}\r\n                    <input onChange={handleChange} value={username} name='username' type=\"text\" className=\"registerInput\" placeholder='Username here' />\r\n                    <input onChange={handleChange} value={email} name='email' type=\"email\" className=\"registerInput\" placeholder='Email here' />\r\n                    <input onChange={handleChange} value={password} name='password' type=\"password\" className=\"registerInput\" placeholder='Password here' />\r\n                    <input onChange={handleChange} value={cf_password} name='cf_password' type=\"password\" className=\"registerInput\" placeholder='Confirm Password here' />\r\n                    <button className='registerButton' type='submit'>{loading ? <CircularProgress style={{color: 'white'}} /> : 'Register'}</button>\r\n                    <p className='registerAccountCheck'>Don't have an account yet?</p>\r\n                    <Link className='registerLoginButton' to='/login' type='submit'>Login</Link>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport './home/home.css'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst Landing = () => {\r\n    const LandingImg = 'http://localhost:3000/images/landingPage.png'\r\n    return (\r\n        <div className='landing'>\r\n            <div className='landing-img-container'>\r\n                <img src={LandingImg} alt='none' />\r\n            </div>\r\n            <div className='landing-content'>\r\n                <div className='landing-wrapper'>\r\n                 <h1 style={{background: '#eee', width: 'fit-content', margin: '10px auto', color: 'blue'}}>G-STAR</h1>\r\n                 <h1>CONNECT WITH FRIENDS</h1>\r\n                 <Link style={{background: 'teal', padding: '12px', color: 'white'}} to='/login'>Login Now</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Landing\r\n","import React from 'react'\r\n\r\nfunction SingleNotification({noti}) {\r\n    return (\r\n        <div className=\"notification-content\">\r\n           <p>{noti}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleNotification\r\n","import { DeleteOutline } from '@material-ui/icons'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Main from '../main/Main'\r\nimport Rightbar from '../rightbar/Rightbar'\r\nimport Sidebar from '../sidebar/Sidebar'\r\nimport Topbar from '../topbar/Topbar'\r\nimport './Notification.css'\r\nimport {useHistory} from 'react-router-dom'\r\nimport SingleNotification from './SingleNotification'\r\n\r\nfunction Notification() {\r\n    const history = useHistory()\r\n    const user = useSelector(state=> state.auth)\r\n    const {user: currentUser} = user    \r\n\r\n    const deleteNotification = async()=>{\r\n        const notif = await axios.delete(`/users/deleteNotification/${currentUser._id}`)\r\n        history.replace('notifications')\r\n        console.log(notif)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <Topbar />\r\n          <div className='notification'>\r\n           <Sidebar />\r\n           <div className=\"notification-wrapper\">\r\n               <h1>Notifications</h1>\r\n               {\r\n                   user?.user?.notifications.length === 0 ? <h1>You do not have any Notifications</h1> :\r\n                <>\r\n               <div onClick={deleteNotification} className=\"deletePanel\">\r\n               <span>Clear All</span>\r\n               <DeleteOutline style={{color: 'red', fontSize: '30px'}} />\r\n               </div>\r\n               {\r\n                   user?.user?.notifications?.map(noti=>(\r\n                     <SingleNotification key={noti} noti={noti} />\r\n                   ))\r\n               }\r\n           </>\r\n            }\r\n           </div>\r\n           <Rightbar />\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction OneUser({user, currentUser, cb, setCb}) {\r\n\r\n\r\n    const addFriend = async()=>{\r\n        try {\r\n            await axios.post('api/conversation', {senderId: currentUser?._id, recieverId: user?._id})\r\n            setCb(!cb)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div key={user._id} className=\"allUsers-content\">\r\n        <div className=\"image\">\r\n          <img src={user?.profilePic.url} alt=\"\"/>\r\n        </div>\r\n        <div className=\"details\">\r\n         <h4>{user?.username}</h4>\r\n         <button onClick={addFriend}>Add {user?.username}</button>\r\n         <button>\r\n         <Link style={{color: 'white', textDecoration: 'none'}} to={`/profile/${user.username}`}>\r\n             View {user?.username}\r\n         </Link>\r\n         </button>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default OneUser\r\n","import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nimport { Link } from 'react-router-dom'\r\nimport Rightbar from '../rightbar/Rightbar'\r\nimport Sidebar from '../sidebar/Sidebar'\r\nimport Topbar from '../topbar/Topbar'\r\nimport './AllUsers.css'\r\nimport OneUser from './OneUser'\r\n\r\nfunction AllUsers() {\r\n  const history = useHistory()\r\n  const auth = useSelector(state=> state.auth)\r\n  const {user: currentUser} = auth\r\n  const [followed, setFollowed] = useState()\r\n  const [users, setUsers] = useState([])\r\n  const [cb, setCb] = useState(false)\r\n//   const [user, setUser] = useState('')\r\n    \r\n    // useEffect(()=>{\r\n    //       const user = users.filter(user=> user._id === currentUser._id)\r\n    //       setUser(user)\r\n    // },[users, currentUser._id])\r\n    \r\n    useEffect(()=>{\r\n       try {     \r\n           const getUsers = async()=>{\r\n               const res = await axios.get('/users/allUsers')\r\n               setUsers(res.data.filter(user=> user._id !== currentUser?._id))\r\n           }\r\n           getUsers()\r\n       } catch (error) {\r\n           console.log(error)\r\n       }\r\n    },[currentUser._id])\r\n    \r\n    const addFriend = async()=>{\r\n        try {\r\n            await axios.post('/conversation', {members: [currentUser?._id, ]})\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const handleLike = async(user)=>{\r\n        try {\r\n            await axios.put(`/users/${user._id}/follow`, {userId: currentUser?._id});\r\n            history.replace('allUsers')\r\n            setFollowed(!followed)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n          <Topbar cb={cb} />\r\n          <div className='allUsers'>\r\n            <Sidebar />\r\n            <div className=\"allUsers-wrapper\">\r\n                <h1>Getting started? Find friends</h1>\r\n                {\r\n                    users?.map(user=>(\r\n                        <OneUser setCb={setCb} cb={cb} key={user._id} user={user} currentUser={currentUser} />\r\n                    ))\r\n                }\r\n                  \r\n\r\n                  \r\n            </div>\r\n            <Rightbar />\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AllUsers\r\n","import React from 'react'\r\nimport { useLocation } from 'react-router'\r\nimport Main from '../main/Main'\r\nimport Rightbar from '../rightbar/Rightbar'\r\nimport Sidebar from '../sidebar/Sidebar'\r\nimport Topbar from '../topbar/Topbar'\r\n\r\nconst SinglePost = () => {\r\n    const location = useLocation()\r\n    const id = location.pathname.split('/')[2]\r\n\r\n    return (\r\n        <>\r\n        <Topbar />\r\n        <div style={{padding: '20px 15rem', overflow: 'hidden'}} className='home'>\r\n           {/* <Sidebar /> */}\r\n           <Main style={{flex: '1'}} SinglePostId={id} />\r\n           {/* <Rightbar /> */}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SinglePost\r\n","import axios from 'axios'\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\r\nimport './App.css'\r\nimport Home from './components/home/Home'\r\nimport Login from './components/login/Login'\r\nimport Messenger from './components/messenger/Messenger'\r\nimport Profile from './components/profile/Profile'\r\nimport Register from './components/register/Register'\r\nimport Landing from './components/Landing'\r\nimport Notification from './components/Notification/Notification'\r\nimport { dispatchLogin, dispatchUser, fetchUser } from './redux/actions/authAction'\r\nimport AllUsers from './components/AllUsers/AllUsers'\r\nimport SinglePost from './components/singlePost/SinglePost'\r\n// import { dispatchPosts, fetchPosts } from './redux/actions/postAction'\r\n\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch()\r\n    const {token} = useSelector(state=> state.token)\r\n    const user = useSelector(state=> state.auth)\r\n\r\n    useEffect(()=>{\r\n       const firstLogin = localStorage.getItem('firstLogin')\r\n       if(firstLogin){\r\n           try {\r\n               const getToken = async()=>{\r\n                  const res = await axios.post('/auth/refresh_token', null)\r\n                  dispatch({type: 'GET_TOKEN', payload: res.data})\r\n               }\r\n               getToken()\r\n           } catch (error) {\r\n               console.log(error.response.data.msg)\r\n           }\r\n       }\r\n    },[dispatch, user.isLogged])\r\n\r\n    useEffect(()=>{\r\n        // const firstLogin = localStorage.getItem('firstLogin')\r\n      if(token){\r\n          const getUser = async()=>{\r\n              dispatch(dispatchLogin())\r\n             return fetchUser(token).then(res=>{\r\n                 dispatch(dispatchUser(res))\r\n             })\r\n          }\r\n          getUser()\r\n      }\r\n    },[token, dispatch])\r\n\r\n    // useEffect(()=>{\r\n    //         const getPosts = ()=>{\r\n    //             return fetchPosts(token).then(res=> dispatch(dispatchPosts(res)))\r\n    //         }\r\n    //         getPosts()\r\n    //   },[token, dispatch])\r\n    // \r\n\r\n    return (\r\n        <div className='App'>\r\n            <Router>\r\n                <Redirect to={user.isLogged ? '/home' : '/'} />\r\n                <Switch>\r\n                    <Route exact path='/profile/:username' >\r\n                        <Profile />\r\n                    </Route>\r\n                    <Route exact path='/'>\r\n                        <Landing />\r\n                    </Route>\r\n                    <Route exact path='/messenger' >\r\n                        <Messenger />\r\n                    </Route>\r\n                    <Route exact path='/home'>\r\n                        <Home />\r\n                    </Route>\r\n                    <Route exact path='/post/:id'>\r\n                        <SinglePost />\r\n                    </Route>\r\n                     <Route exact path='/register'>\r\n                        <Register />\r\n                    </Route>\r\n                    <Route exact path='/login' >\r\n                        <Login />\r\n                    </Route>\r\n                    <Route exact path='/notifications'>\r\n                       <Notification />\r\n                    </Route>\r\n                    <Route exact path='/allUsers'>\r\n                       <AllUsers />\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import ACTIONS from '../actions'\r\n\r\nconst initialState = {\r\n    user: [],\r\n    isLogged: false,\r\n    isAdmin: false\r\n}\r\n\r\nconst authReducer = (state=initialState, action)=> {\r\n    switch(action.type){\r\n        case ACTIONS.LOGIN:\r\n            return {\r\n                ...state,\r\n                isLogged: true\r\n            }\r\n        case ACTIONS.GET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.payload.user,\r\n                isAdmin: action.payload.isAdmin\r\n            }\r\n        case ACTIONS.LOGOUT:\r\n            return {\r\n                ...state,\r\n                user: [],\r\n                isLogged: false,\r\n                isAdmin: false\r\n            }\r\n        default: \r\n          return state\r\n    }\r\n}\r\n\r\nexport default authReducer","import ACTIONS from '../actions'\r\n\r\nconst token = ''\r\n\r\nconst tokenReducer = (state=token, actions)=>{\r\n   switch(actions.type){\r\n       case ACTIONS.GET_TOKEN:\r\n           return {\r\n               token: actions.payload\r\n           }\r\n        default:\r\n            return state\r\n   }\r\n}\r\n\r\nexport default tokenReducer","import { combineReducers } from 'redux'\r\nimport auth from './authReducers'\r\nimport tokenReducer from './tokenReducer'\r\nimport posts from './postReducer'\r\n\r\nexport default combineReducers({\r\n    auth,\r\n    token: tokenReducer,\r\n    posts\r\n})\r\n ","import React from 'react'\r\nimport {createStore} from 'redux'\r\nimport rootReducer from './reducers'\r\nimport {Provider} from 'react-redux'\r\n\r\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n)\r\n\r\nfunction DataProvider({children}) {\r\n    return (\r\n        <Provider store={store}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default DataProvider\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport DataProvider from './redux/store'\r\n\r\nReactDOM.render(\r\n   \r\n   <React.StrictMode>\r\n      <DataProvider>\r\n      <App />\r\n   </DataProvider>\r\n   </React.StrictMode>, document.getElementById('root')\r\n)"],"sourceRoot":""}