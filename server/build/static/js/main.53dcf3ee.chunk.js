(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,s){},118:function(e,t,s){},123:function(e,t,s){},124:function(e,t,s){},125:function(e,t,s){},126:function(e,t,s){},127:function(e,t,s){},128:function(e,t,s){},129:function(e,t,s){},130:function(e,t,s){},160:function(e,t,s){},161:function(e,t,s){},162:function(e,t,s){},163:function(e,t,s){},164:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(44),r=s.n(a),i=s(3),o=s.n(i),l=s(6),j=s(5),d=s.n(j),u=s(10),b=s(8),m=s(9),O=(s(117),s(4)),h=(s(118),s(177)),p=s(178),x=s(179),v=s(180),f=s(181),g={LOGIN:"LOGIN",GET_TOKEN:"GET_TOKEN",GET_USER:"GET_USER",LOGOUT:"LOGOUT",GET_POSTS_SUCCESS:"GET_POSTS_SUCCESS",GET_POSTS_FAILURE:"GET_POSTS_FAILURE",GET_POSTS_REQUEST:"GET_POSTS_REQUEST"},N=function(){return{type:g.LOGIN}},w=function(){return{type:g.LOGOUT}},I=function(){var e=Object(l.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users/single",{headers:{Authorization:t}});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return{type:g.GET_USER,payload:{user:e.data,isAdmin:e.data.isAdmin}}},y=s(0);var k=function(e){var t,s,c,a,r=e.cb,i=Object(m.g)(),j=Object(u.b)(),g=Object(n.useState)(!1),N=Object(O.a)(g,2),I=N[0],S=N[1],k=Object(n.useState)([]),_=Object(O.a)(k,2),E=_[0],C=_[1],P=Object(u.c)((function(e){return e.auth})),T=P.user;Object(n.useEffect)((function(){S(P.isLogged)}),[P.isLogged]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/conversation/"+(null===T||void 0===T?void 0:T._id));case 2:t=e.sent,C(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[T._id,r]);var L=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/auth/logout");case 3:localStorage.removeItem("firstLogin"),j(w()),i.push("/login"),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),localStorage.removeItem("firstLogin"),j(w()),i.push("/login");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"topbar",children:Object(y.jsxs)("div",{className:"topbarWrapper",children:[Object(y.jsx)("div",{className:"topbar-left",children:Object(y.jsx)(b.b,{to:"/home",style:{textDecoration:"none",color:"inherit"},children:"G-STAR"})}),Object(y.jsx)("div",{className:"topbar-center",children:Object(y.jsxs)("div",{className:"topbarSearch",children:[Object(y.jsx)(h.a,{className:"topbarSearchIcon"}),Object(y.jsx)("input",{placeholder:"Search for friends, post or Video",className:"topbarSearchInput"})]})}),Object(y.jsxs)("div",{className:"topbar-right",children:[Object(y.jsxs)("div",{className:"topbarRightLinks",children:[Object(y.jsx)("div",{className:"topbarRightLink",children:I?Object(y.jsx)(b.b,{to:"#",style:{textDecoration:"none",color:"inherit"},onClick:L,children:Object(y.jsx)("h5",{children:"Logout"})}):Object(y.jsx)(b.b,{to:"/login",style:{textDecoration:"none",color:"inherit"},children:Object(y.jsx)("h5",{children:"Login"})})}),Object(y.jsx)("div",{className:"topbarRightLink",children:Object(y.jsx)("h5",{children:"Timeline"})})]}),Object(y.jsxs)("div",{className:"topbarRightIcons",children:[Object(y.jsxs)("div",{className:"topbarRightIcon",children:[Object(y.jsx)(p.a,{}),Object(y.jsx)("span",{className:"topbarRightLabel"})]}),Object(y.jsx)(b.b,{style:{textDecoration:"none",color:"inherit"},to:"/messenger",children:Object(y.jsxs)("div",{className:"topbarRightIcon",children:[Object(y.jsx)(x.a,{}),Object(y.jsx)("span",{className:"topbarRightLabel",children:E.length})]})}),Object(y.jsx)(b.b,{to:"/allUsers",style:{textDecoration:"none",color:"inherit"},children:Object(y.jsxs)("div",{className:"topbarRightIcon",children:[Object(y.jsx)(v.a,{}),Object(y.jsx)("span",{className:"topbarRightLabel",children:"+"})]})}),0!==(null===T||void 0===T||null===(t=T.notification)||void 0===t?void 0:t.length)&&Object(y.jsx)(b.b,{style:{textDecoration:"none",color:"inherit"},to:"/notifications",children:Object(y.jsxs)("div",{className:"topbarRightIcon",children:[Object(y.jsx)(f.a,{}),(null===T||void 0===T||null===(s=T.notification)||void 0===s?void 0:s.length)>0&&Object(y.jsx)("span",{className:"topbarRightLabel",children:null===T||void 0===T||null===(c=T.notifications)||void 0===c?void 0:c.length})]})})]})]}),I?Object(y.jsx)(b.b,{to:"/profile/".concat(T.username),children:Object(y.jsx)("img",{src:null===T||void 0===T||null===(a=T.profilePic)||void 0===a?void 0:a.url,alt:"here",className:"topbarRightImg"})}):null]})})},_=(s(123),s(182)),E=s(183),C=s(184),P=s(185),T=s(186),L=s(187),F=s(188),D=s(189);var R=function(){return Object(y.jsx)("div",{className:"sidebar",children:Object(y.jsxs)("div",{className:"sidebarWrapper",children:[Object(y.jsxs)("ul",{className:"sidebarItemLists",children:[Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(_.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Feed"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(x.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Chat"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(E.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Video"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(C.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Group"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(P.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Bookmarks"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(T.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Questions"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(L.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Jobs"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(F.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Events"})]}),Object(y.jsxs)("li",{className:"sidebarItemList",children:[Object(y.jsx)("span",{className:"sidebarItemIcon",children:Object(y.jsx)(D.a,{})}),Object(y.jsx)("span",{className:"sidebarItemName",children:"Courses"})]}),Object(y.jsx)("li",{className:"sidebarItemList",children:Object(y.jsx)("span",{className:"sidebarItemName",children:Object(y.jsx)("button",{className:"sidebarMore",children:"Show More"})})})]}),Object(y.jsx)("hr",{className:"sidebarHr"}),Object(y.jsxs)("ul",{className:"sidebarFriends",children:[Object(y.jsxs)("li",{className:"sidebarFriend",children:[Object(y.jsx)("img",{src:"/images/promise.jpg",alt:"",className:"sidebarFriendImg"}),Object(y.jsx)("span",{className:"sidebarFriendName",children:"Promise"})]}),Object(y.jsxs)("li",{className:"sidebarFriend",children:[Object(y.jsx)("img",{src:"/images/promise.jpg",alt:"",className:"sidebarFriendImg"}),Object(y.jsx)("span",{className:"sidebarFriendName",children:"Promise"})]}),Object(y.jsxs)("li",{className:"sidebarFriend",children:[Object(y.jsx)("img",{src:"/images/promise.jpg",alt:"",className:"sidebarFriendImg"}),Object(y.jsx)("span",{className:"sidebarFriendName",children:"Promise"})]}),Object(y.jsxs)("li",{className:"sidebarFriend",children:[Object(y.jsx)("img",{src:"/images/promise.jpg",alt:"",className:"sidebarFriendImg"}),Object(y.jsx)("span",{className:"sidebarFriendName",children:"Promise"})]}),Object(y.jsxs)("li",{className:"sidebarFriend",children:[Object(y.jsx)("img",{src:"/images/promise.jpg",alt:"",className:"sidebarFriendImg"}),Object(y.jsx)("span",{className:"sidebarFriendName",children:"Promise"})]}),Object(y.jsxs)("li",{className:"sidebarFriend",children:[Object(y.jsx)("img",{src:"/images/promise.jpg",alt:"",className:"sidebarFriendImg"}),Object(y.jsx)("span",{className:"sidebarFriendName",children:"Promise"})]}),Object(y.jsxs)("li",{className:"sidebarFriend",children:[Object(y.jsx)("img",{src:"/images/promise.jpg",alt:"",className:"sidebarFriendImg"}),Object(y.jsx)("span",{className:"sidebarFriendName",children:"Promise"})]})]})]})})},B=(s(124),s(191)),U=s(192),A=s(193),G=s(194),M=s(190);var W=function(e){var t,s=e.cb,c=e.setCb,a=Object(u.c)((function(e){return e.token})).token,r=Object(u.c)((function(e){return e.auth})).user,i=Object(n.useState)(null),j=Object(O.a)(i,2),m=j[0],h=j[1],p=Object(n.useState)(!1),x=Object(O.a)(p,2),v=x[0],f=x[1],g=Object(n.useRef)(),N=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),t.preventDefault(),n={content:g.current.value},!m){e.next=16;break}return(r=new FormData).append("file",m),e.prev=6,e.next=9,d.a.post("/api/upload",r,{headers:{Authorization:a}});case 9:i=e.sent,n.image=i.data,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:return e.prev=16,e.next=19,d.a.post("/posts",n,{headers:{Authorization:a}});case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(16),console.log(e.t1);case 24:h(null),c(!s),f(!1);case 27:case"end":return e.stop()}}),e,null,[[6,13],[16,21]])})));return function(t){return e.apply(this,arguments)}}();return v?Object(y.jsx)(M.a,{}):Object(y.jsxs)("div",{className:"mainShare",children:[Object(y.jsxs)("div",{className:"mainShareTop",children:[Object(y.jsx)(b.b,{to:"/profile/".concat(null===r||void 0===r?void 0:r.username),children:Object(y.jsx)("img",{src:null===r||void 0===r||null===(t=r.profilePic)||void 0===t?void 0:t.url,alt:"",className:"mainShareProfileImg"})}),Object(y.jsx)("input",{placeholder:"What is on your mind ".concat(null===r||void 0===r?void 0:r.username,"?"),ref:g,className:"mainShareInput"})]}),Object(y.jsx)("hr",{className:"mainShareHr"}),m&&Object(y.jsxs)("div",{className:"uploadImage",children:[Object(y.jsx)("span",{onClick:function(e){return h(null)},className:"cancelImgUpload",children:"x"}),Object(y.jsx)("img",{src:URL.createObjectURL(m),alt:"",className:"uploadImg"})]}),Object(y.jsxs)("form",{onSubmit:N,className:"mainShareBottom",children:[Object(y.jsxs)("div",{className:"mainShareBottomIcons",children:[Object(y.jsxs)("div",{className:"mainShareBottomIcon",children:[Object(y.jsxs)("label",{htmlFor:"file",style:{display:"flex",justifyContent:"center",alignContent:"center"},children:[Object(y.jsx)(B.a,{htmlColor:"crimson",htmlFor:"file",style:{cursor:"pointer"}}),Object(y.jsx)("span",{style:{cursor:"pointer"},className:"mainShareBottomText",children:"Photo or Video"})]}),Object(y.jsx)("input",{onChange:function(e){h(e.target.files[0])},accept:".png, .jpeg, .jpg",type:"file",id:"file",style:{display:"none"}})]}),Object(y.jsxs)("div",{className:"mainShareBottomIcon",children:[Object(y.jsx)(U.a,{htmlColor:"blue"}),Object(y.jsx)("span",{className:"mainShareBottomText",children:"Tag"})]}),Object(y.jsxs)("div",{className:"mainShareBottomIcon",children:[Object(y.jsx)(A.a,{htmlColor:"green"}),Object(y.jsx)("span",{className:"mainShareBottomText",children:"Location"})]}),Object(y.jsxs)("div",{className:"mainShareBottomIcon",children:[Object(y.jsx)(G.a,{htmlColor:"rgb(172, 147, 5)"}),Object(y.jsx)("span",{className:"mainShareBottomText",children:"Feelings"})]})]}),Object(y.jsx)("button",{type:"submit",className:"mainShareButton",children:"Share"})]})]})},z=s(195),V=s(196),H=s(197),J=s(33);var K=function(e){var t,s,c=e.post,a=Object(n.useState)(c.like.length),r=Object(O.a)(a,2),i=r[0],j=r[1],u=Object(n.useState)(null),m=Object(O.a)(u,2),h=m[0],p=m[1],x=Object(n.useState)(!1),v=Object(O.a)(x,2),f=v[0],g=v[1],N=Object(n.useState)(!1),w=Object(O.a)(N,2),I=w[0],S=w[1];Object(n.useEffect)((function(){g(c.like.includes(null===h||void 0===h?void 0:h._id))}),[c,null===h||void 0===h?void 0:h._id]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users/?userId=".concat(c.userId));case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c.userId]);var k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/posts/".concat(c._id,"/like"),{userId:h._id});case 3:j(f?i-1:i+1),g(!f),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{onClick:function(){return I&&S(!1)},className:"mainPost",children:[Object(y.jsxs)("div",{className:"mainPostTop",children:[Object(y.jsxs)("div",{style:{opacity:I?"1":"0"},className:"extra-dot",children:[Object(y.jsx)(b.b,{style:{color:"inherit",textDecoration:"none",width:"100%"},to:"/post/".concat(c._id),children:Object(y.jsx)("p",{children:"Edit"})}),Object(y.jsx)("p",{children:"Delete"})]}),Object(y.jsxs)("div",{className:"mainPostDetails",children:[Object(y.jsx)(b.b,{to:"/profile/".concat(null===h||void 0===h?void 0:h.username),children:Object(y.jsx)("img",{src:null===h||void 0===h||null===(t=h.profilePic)||void 0===t?void 0:t.url,alt:"",className:"mainPostImg"})}),Object(y.jsx)("span",{className:"mainPostUsername",children:null===h||void 0===h?void 0:h.username}),Object(y.jsx)("span",{className:"mainPostTime",children:Object(J.a)(new Date(c.createdAt))})]}),Object(y.jsx)(z.a,{onClick:function(){S(!I)}})]}),Object(y.jsxs)("div",{className:"mainPostBody",children:[Object(y.jsx)("p",{className:"mainPostDescription",children:c.content}),c.image&&Object(y.jsx)("img",{src:null===(s=c.image)||void 0===s?void 0:s.url,alt:"",className:"mainPostTitleImg"})]}),Object(y.jsxs)("div",{className:"mainPostBottom",children:[Object(y.jsxs)("div",{className:"mainPostBottomLike",children:[Object(y.jsx)(V.a,{onClick:k,className:"mainPostBottomLikeIcon"}),Object(y.jsx)(H.a,{onClick:k,className:"mainPostBottomHeartIcon"}),Object(y.jsxs)("span",{className:"mainPostLikeCon",children:[i<1?"No likes":i," ",i<1?"":1===i?"person":"people liked it"]})]}),Object(y.jsx)("div",{className:"mainPostBottomComment",children:Object(y.jsx)(b.b,{style:{color:"inherit",textDecoration:"none"},to:"/post/".concat(c._id),children:"View Comments"})})]})]})};var X=function(e){var t,s,c=e.username,a=e.SinglePostId,r=Object(u.c)((function(e){return e.auth})),i=Object(n.useState)([]),j=Object(O.a)(i,2),m=j[0],h=j[1],p=Object(n.useState)(!1),x=Object(O.a)(p,2),v=x[0],f=x[1],g=r.user,N=Object(n.useState)({}),w=Object(O.a)(N,2),I=w[0],S=w[1],k=Object(n.useState)(""),_=Object(O.a)(k,2),E=_[0],C=_[1],P=Object(n.useState)(""),T=Object(O.a)(P,2),L=T[0],F=T[1],D=Object(n.useState)(""),R=Object(O.a)(D,2),B=R[0],U=R[1],A=Object(n.useState)([]),G=Object(O.a)(A,2),V=G[0],H=G[1],X=Object(n.useState)(!1),Q=Object(O.a)(X,2),Y=Q[0],q=Q[1],Z=Object(n.useRef)();Object(n.useEffect)((function(){var e;null===(e=Z.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[V]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/posts/".concat(a));case 2:t=e.sent,S(t.data),F(t.data.content);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=6;break}return e.next=3,d.a.get("/posts/profile/"+c);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,d.a.get("posts/timeline/"+(null===g||void 0===g?void 0:g._id));case 8:e.t0=e.sent;case 9:t=e.t0,h(t.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,g._id,v]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/comment/all/".concat(I._id));case 2:t=e.sent,H(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[I._id,Y]),Object(n.useEffect)((function(){I&&function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users/?userId=".concat(I.userId));case 2:t=e.sent,C(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[I.userId,I]);var $=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/posts/update/".concat(I._id),{userId:g._id,content:L});case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,B){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.a.post("/api/comment",{user:g,postId:I._id,text:B});case 5:U(""),q(!Y),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return a?Object(y.jsx)("div",{style:{height:"100%"},className:"main",children:Object(y.jsxs)("div",{className:"mainWrapper",children:[Object(y.jsxs)("div",{className:"mainPost",style:{width:a&&"63%"},children:[Object(y.jsxs)("div",{className:"mainPostTop",children:[Object(y.jsxs)("div",{className:"mainPostDetails",children:[Object(y.jsx)(b.b,{to:"/profile/".concat(null===E||void 0===E?void 0:E.username),children:Object(y.jsx)("img",{src:null===E||void 0===E||null===(t=E.profilePic)||void 0===t?void 0:t.url,alt:"i",className:"mainPostImg"})}),Object(y.jsx)("span",{className:"mainPostUsername",children:null===E||void 0===E?void 0:E.username}),Object(y.jsx)("span",{className:"mainPostTime",children:Object(J.a)(new Date(I.createdAt))})]}),Object(y.jsx)(z.a,{})]}),Object(y.jsxs)("div",{className:"mainPostBody",children:[Object(y.jsx)("p",{className:"mainPostDescription",children:Object(y.jsx)("input",{name:"desc",value:L,onChange:function(e){return F(e.target.value)},style:{width:"100%",height:"30px",outline:"none",border:"1px solid gray"},placeholder:"Text here"})}),I.image&&Object(y.jsx)("img",{src:null===(s=I.image)||void 0===s?void 0:s.url,alt:"i",style:{width:a&&"100%",height:a&&"150px",objectFit:"cover"},className:"mainPostTitleImg"})]}),Object(y.jsx)("div",{className:"mainPostBottom",children:Object(y.jsxs)("div",{className:"mainPostBottomComment",style:{width:"100%",height:"20px"},children:[Object(y.jsxs)("span",{children:[V&&V.length," comments"]}),Object(y.jsx)("button",{onClick:$,style:{position:"absolute",top:"0",right:"0",padding:"5px 12px",background:"teal",color:"white",outline:"none",border:"none"},children:"Save"})]})})]}),Object(y.jsxs)("div",{className:"comments",children:[Object(y.jsxs)("div",{className:"comments-input-div",children:[Object(y.jsx)("input",{className:"comment-input",name:"comment",value:B,onChange:function(e){return U(e.target.value)},placeholder:"Comment here"}),B&&Object(y.jsx)("button",{onClick:ee,children:"Comment"})]}),V&&V.map((function(e){var t,s;return Object(y.jsxs)("div",{ref:Z,className:"comment",children:[Object(y.jsx)("img",{src:null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.profilePic)||void 0===s?void 0:s.url,alt:"none"}),Object(y.jsx)("span",{children:e.text})]},e._id)}))]})]})}):Object(y.jsx)("div",{className:"main",children:Object(y.jsxs)("div",{className:"mainWrapper",children:[!c&&Object(y.jsx)(W,{cb:v,setCb:f}),0===(null===m||void 0===m?void 0:m.length)?Object(y.jsxs)("h2",{children:[Object(y.jsx)(M.a,{})," "]}):null===m||void 0===m?void 0:m.map((function(e){return Object(y.jsx)(K,{user:g,post:e},e._id)}))]})})},Q=s(198),Y=s(199);s(125);var q=function(e){var t,s=e.user,c=Object(n.useState)([]),a=Object(O.a)(c,2),r=a[0],i=a[1],j=Object(u.c)((function(e){return e.auth})),m=(Object(u.c)((function(e){return e.token})).token,j.user),h=Object(n.useState)(null===m||void 0===m||null===(t=m.followings)||void 0===t?void 0:t.includes(null===s||void 0===s?void 0:s._id)),p=Object(O.a)(h,2),x=p[0],v=p[1];Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/users/friends/"+s._id);case 3:t=e.sent,i(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[s]);var f=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/users/".concat(s._id,"/follow"),{userId:null===m||void 0===m?void 0:m._id});case 3:v(!x),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"rightbar",children:Object(y.jsxs)("div",{className:"rightbarWrapper",children:[s&&(null===s||void 0===s?void 0:s.username)!==(null===m||void 0===m?void 0:m.username)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("button",{className:"rightbarFollowButton",onClick:f,children:[x?"Follow":"Unfollow",x?Object(y.jsx)(Y.a,{}):Object(y.jsx)(Q.a,{})]}),Object(y.jsx)("button",{className:"rightbarMessageButton",children:"Add Friend"})]}),s&&Object(y.jsxs)("div",{className:"userDetails",children:[Object(y.jsxs)("div",{className:"userDetail",children:[Object(y.jsx)("span",{children:"Relationship"}),Object(y.jsx)("span",{children:Object(y.jsxs)("b",{children:[s.relationship?null===s||void 0===s?void 0:s.relationship:"N/A","."]})})]}),Object(y.jsxs)("div",{className:"userDetail",children:[Object(y.jsx)("span",{children:"City: "}),Object(y.jsx)("span",{children:Object(y.jsxs)("b",{children:[s.city?null===s||void 0===s?void 0:s.city:"N/A","."]})})]}),Object(y.jsxs)("div",{className:"userDetail",children:[Object(y.jsx)("span",{children:"Home town: "}),Object(y.jsx)("span",{children:Object(y.jsxs)("b",{children:[s.hometown?null===s||void 0===s?void 0:s.hometown:"N/A","."]})})]}),Object(y.jsxs)("div",{className:"userDetail",children:[Object(y.jsx)("span",{children:"Sex: "}),Object(y.jsx)("span",{children:Object(y.jsxs)("b",{children:[s.sex?null===s||void 0===s?void 0:s.sex:"N/A","."]})})]})]}),Object(y.jsx)("div",{className:"rightbarTop",children:Object(y.jsxs)("div",{className:"rightbarBirthday",children:[Object(y.jsx)("img",{src:"/images/w1.jpeg",className:"rightbarBirthdayImg",alt:""}),Object(y.jsx)("div",{className:"rightbarBirthdayDiv",children:Object(y.jsxs)("span",{className:"rightbarBirthdayText",children:[Object(y.jsx)("b",{children:"Favour Johnson"})," and ",Object(y.jsx)("b",{children:"3 others friends"})," have birthday today."]})})]})}),Object(y.jsx)("div",{className:"rightbarImageContainer",children:Object(y.jsx)("img",{src:"/images/w4.jpeg",alt:"",className:"rightbarImage"})}),Object(y.jsxs)("div",{className:"rightbarOnlineFriends",children:[Object(y.jsx)("h3",{className:"rightbarOnlineHead",children:0===r.length?"":"Online Friends"}),0===r.length?Object(y.jsx)("h2",{children:"Connect to friends Now!"}):r.map((function(e){var t;return Object(y.jsx)("ul",{className:"rightbarOnlineFriendLists",children:Object(y.jsx)(b.b,{style:{color:"inherit",textDecoration:"none"},to:"/profile/".concat(null===e||void 0===e?void 0:e.username),children:Object(y.jsxs)("li",{className:"rightbarOnlineFriendList",children:[Object(y.jsx)("div",{className:"rightbarOnlineStatus"}),Object(y.jsx)("img",{src:null===e||void 0===e||null===(t=e.profilePic)||void 0===t?void 0:t.url,alt:"",className:"rightbarOnlineFriendImg"}),Object(y.jsx)("span",{className:"rightbarOnlineFriendName",children:null===e||void 0===e?void 0:e.username})]})})})}))]})]})})};s(68);var Z=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(k,{}),Object(y.jsxs)("div",{className:"home",children:[Object(y.jsx)(R,{}),Object(y.jsx)(X,{}),Object(y.jsx)(q,{})]})]})},$=s(32),ee=s(7),te=(s(126),{email:"",password:"",error:""});var se=function(){var e=Object(u.b)(),t=Object(m.g)(),s=Object(n.useState)(!1),c=Object(O.a)(s,2),a=c[0],r=c[1],i=Object(n.useState)(te),j=Object(O.a)(i,2),h=j[0],p=j[1],x=h.email,v=h.password,f=h.error,g=function(){var s=Object(l.a)(o.a.mark((function s(n){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.preventDefault(),r(!0),s.prev=2,s.next=5,d.a.post("/auth/login",{email:x,password:v});case 5:s.sent,localStorage.setItem("firstLogin",!0),e(N()),t.push("/home"),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(2),(null===s.t0||void 0===s.t0?void 0:s.t0.response)&&p(Object(ee.a)(Object(ee.a)({},h),{},{error:s.t0.response.data.msg}));case 14:r(!1);case 15:case"end":return s.stop()}}),s,null,[[2,11]])})));return function(e){return s.apply(this,arguments)}}(),w=function(e){var t=e.target,s=t.value,n=t.name;p(Object(ee.a)(Object(ee.a)({},h),{},Object($.a)({},n,s)))};return Object(y.jsxs)("div",{className:"login",children:[Object(y.jsxs)("div",{className:"loginLeft",children:[Object(y.jsx)("h2",{children:"G-STAR"}),Object(y.jsx)("img",{src:"https://cdn.dribbble.com/users/24078/screenshots/15522433/media/e92e58ec9d338a234945ae3d3ffd5be3.jpg?compress=1&resize=400x300",alt:"",className:"loginImg"})]}),Object(y.jsx)("div",{className:"loginRight",children:Object(y.jsxs)("form",{onSubmit:g,className:"loginForm",children:[Object(y.jsx)("h4",{className:"loginHead",children:"Login Now"}),f&&Object(y.jsx)("span",{style:{color:"red",fontSize:"17px"},children:f}),Object(y.jsx)("input",{onChange:w,name:"email",value:x,type:"email",className:"loginInput",placeholder:"Email here"}),Object(y.jsx)("input",{onChange:w,name:"password",value:v,type:"password",className:"loginInput",placeholder:"Password here"}),Object(y.jsx)("button",{className:"loginButton",type:"submit",children:a?Object(y.jsx)(M.a,{style:{color:"white"}}):"Login"}),Object(y.jsx)("p",{className:"loginAccountCheck",children:"Don't have an account yet?"}),Object(y.jsx)(b.b,{className:"loginRegisterButton",to:"/register",type:"submit",children:"Register"})]})})]})},ne=s(57),ce=(s(127),s(128),s(200));var ae=function(e){var t,s=e.currentUser,c=e.cb,a=e.conversation,r=e.setCb,i=Object(n.useState)(),j=Object(O.a)(i,2),u=j[0],b=j[1];Object(n.useEffect)((function(){var e=a.members.find((function(e){return e!==(null===s||void 0===s?void 0:s._id)}));(function(){var t=Object(l.a)(o.a.mark((function t(){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/users/?userId=".concat(e));case 2:s=t.sent,b(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[a.members,null===s||void 0===s?void 0:s._id]);var m=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("api/conversation/".concat(a._id));case 2:t=e.sent,r(!c),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"chatMenuFriend",children:[Object(y.jsx)("img",{src:u&&(null===u||void 0===u||null===(t=u.profilePic)||void 0===t?void 0:t.url),alt:".",className:"chatMenuFriendImg"}),Object(y.jsx)("span",{className:"chatMenuFriendName",children:u&&(null===u||void 0===u?void 0:u.username)}),Object(y.jsxs)("span",{onClick:m,className:"chatMenuDeleteIcon",children:[Object(y.jsx)(ce.a,{style:{fontSize:"20px"}})," "]})]})};s(129);var re=function(e){var t=e.own,s=e.message,n=e.otherUser;return Object(y.jsxs)("div",{className:t?"message own":"message",children:[Object(y.jsxs)("div",{className:"messageTop",children:[Object(y.jsx)("img",{className:"messageImg",src:null===n||void 0===n?void 0:n.profilePic.url,alt:""}),Object(y.jsx)("p",{className:"messageText",children:s.text})]}),Object(y.jsx)("div",{className:"messageBottom",children:Object(J.a)(s.createdAt)})]})};s(130);function ie(e){var t=e.onlineUsers,s=e.currentId,c=e.setCurrentChat,a=Object(n.useState)([]),r=Object(O.a)(a,2),i=r[0],j=r[1],u=Object(n.useState)([]),b=Object(O.a)(u,2),m=b[0],h=b[1];Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users/friends/"+s);case 2:t=e.sent,j(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(n.useEffect)((function(){h(i.filter((function(e){return t.includes(e._id)})))}),[i,t]);var p=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/conversations/find/".concat(s,"/").concat(t._id));case 3:n=e.sent,c(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"chatOnline",children:m.map((function(e){var t;return Object(y.jsxs)("div",{className:"chatOnlineFriend",onClick:function(){return p(e)},children:[Object(y.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(y.jsx)("img",{className:"chatOnlineImg",src:null===e||void 0===e||null===(t=e.profilePic)||void 0===t?void 0:t.url,alt:""}),Object(y.jsx)("div",{className:"chatOnlineBadge"})]}),Object(y.jsx)("span",{className:"chatOnlineName",children:null===e||void 0===e?void 0:e.username})]})}))})}var oe=s(87);function le(){var e,t=Object(n.useState)([]),s=Object(O.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(null),i=Object(O.a)(r,2),j=i[0],b=i[1],m=Object(n.useState)([]),h=Object(O.a)(m,2),p=h[0],x=h[1],v=Object(n.useState)(""),f=Object(O.a)(v,2),g=f[0],N=f[1],w=Object(n.useState)(null),I=Object(O.a)(w,2),S=I[0],_=I[1],E=Object(n.useState)([]),C=Object(O.a)(E,2),P=C[0],T=C[1],L=Object(n.useState)(null),F=Object(O.a)(L,2),D=F[0],R=F[1],B=Object(n.useState)(!1),U=Object(O.a)(B,2),A=U[0],G=U[1],M=Object(n.useRef)(),W=Object(u.c)((function(e){return e.auth})).user,z=Object(n.useRef)(),V=Object(n.useState)(!1),H=Object(O.a)(V,2),J=H[0],K=H[1];Object(n.useEffect)((function(){M.current=Object(oe.io)("ws://localhost:8080"),M.current.on("getMessage",(function(e){_({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),Object(n.useEffect)((function(){S&&(null===j||void 0===j?void 0:j.members.includes(S.sender))&&x((function(e){return[].concat(Object(ne.a)(e),[S])}))}),[S,j]),Object(n.useEffect)((function(){M.current.emit("addUser",W._id),M.current.on("getUsers",(function(e){var t;T(null===(t=W.followings)||void 0===t?void 0:t.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[W]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),e.next=4,d.a.get("/api/conversation/"+W._id);case 4:t=e.sent,a(t.data),K(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[W._id,A]),Object(n.useEffect)((function(){var e,t=null===j||void 0===j||null===(e=j.members)||void 0===e?void 0:e.find((function(e){return e!==W._id}));(function(){var e=Object(l.a)(o.a.mark((function e(){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users?userId=".concat(t));case 2:s=e.sent,R(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p,c,null===j||void 0===j?void 0:j.members,W._id]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/message/"+(null===j||void 0===j?void 0:j._id));case 3:t=e.sent,x(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[j,A]);var X=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={sender:W._id,text:g,conversationId:j._id},n=j.members.find((function(e){return e!==W._id})),M.current.emit("sendMessage",{senderId:W._id,receiverId:n,text:g}),e.prev=4,e.next=7,d.a.post("/api/message",s);case 7:c=e.sent,x([].concat(Object(ne.a)(p),[c.data])),N(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e;null===(e=z.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[p]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(k,{}),Object(y.jsxs)("div",{className:"messenger",children:[Object(y.jsx)("div",{className:"chatMenu",children:Object(y.jsxs)("div",{className:"chatMenuWrapper",children:[Object(y.jsx)("input",{placeholder:"Search for friends",className:"chatMenuInput"}),J?Object(y.jsx)("p",{children:"Loading..."}):c.map((function(e){return Object(y.jsx)("div",{onClick:function(){return b(e)},children:Object(y.jsx)(ae,{conversation:e,cb:A,setCb:G,currentUser:W})})}))]})}),Object(y.jsx)("div",{className:"chatBox",children:Object(y.jsxs)("div",{className:"chatBoxWrapper",children:[j&&Object(y.jsxs)("div",{className:"chatDetailsDisplay",children:[Object(y.jsx)("h3",{style:{fontStyle:"italic"},children:null===D||void 0===D?void 0:D.username}),Object(y.jsx)("img",{style:{width:"25px",height:"25px",borderRadius:"50%",marginLeft:"20px"},alt:"none",src:null===D||void 0===D||null===(e=D.profilePic)||void 0===e?void 0:e.url})]}),j?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"chatBoxTop",children:p.map((function(e){return Object(y.jsx)("div",{ref:z,children:Object(y.jsx)(re,{otherUser:D,message:e,own:e.sender===W._id})})}))}),Object(y.jsxs)("div",{className:"chatBoxBottom",children:[Object(y.jsx)("textarea",{className:"chatMessageInput",placeholder:"write something...",onChange:function(e){return N(e.target.value)},value:g}),Object(y.jsx)("button",{className:"chatSubmitButton",disabled:!g,onClick:X,children:"Send"})]})]}):Object(y.jsx)("span",{className:"noConversationText",children:"Open a conversation to start a chat."})]})}),Object(y.jsx)("div",{className:"chatOnline",children:Object(y.jsxs)("div",{className:"chatOnlineWrapper",children:[Object(y.jsx)("h2",{children:"Online friends"}),Object(y.jsx)(ie,{onlineUsers:P,currentId:W._id,setCurrentChat:b})]})})]})]})}s(160);var je=function(){var e,t,s=Object(n.useState)({}),c=Object(O.a)(s,2),a=c[0],r=c[1],i=Object(n.useState)([]),j=Object(O.a)(i,2),u=j[0],b=j[1],h=Object(m.i)().username;return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/posts/profile/".concat(h));case 2:t=e.sent,b(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users?username=".concat(h));case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(k,{}),Object(y.jsxs)("div",{className:"profile",children:[Object(y.jsx)(R,{}),Object(y.jsxs)("div",{className:"profileChange",children:[Object(y.jsxs)("div",{className:"profileNew",children:[Object(y.jsxs)("div",{className:"profileImg",children:[Object(y.jsx)("img",{src:null===a||void 0===a||null===(e=a.profilePic)||void 0===e?void 0:e.url,alt:"profile here",className:"profileImgPic"}),Object(y.jsx)("img",{src:null===a||void 0===a||null===(t=a.coverPic)||void 0===t?void 0:t.url,alt:"cover here",className:"profileImgCover"})]}),Object(y.jsxs)("div",{className:"profileDescription",children:[Object(y.jsx)("h1",{children:a.username}),Object(y.jsx)("p",{children:a.description||"Please add a description"})]})]}),Object(y.jsxs)("div",{className:"profileBottom",children:[Object(y.jsx)(X,{Posts:u,username:h}),Object(y.jsx)(q,{user:a})]})]})]})]})},de=(s(161),{username:"",email:"",password:"",cf_password:"",error:""});var ue=function(e){var t=Object(n.useState)(de),s=Object(O.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(!1),i=Object(O.a)(r,2),j=i[0],u=i[1],h=c.email,p=c.username,x=c.password,v=c.cf_password,f=c.error,g=Object(m.g)(),N=function(e){var t=e.target,s=t.value,n=t.name;a(Object(ee.a)(Object(ee.a)({},c),{},Object($.a)({},n,s)))},w=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x&&h&&p){e.next=4;break}return a(Object(ee.a)(Object(ee.a)({},c),{},{error:"Fields must not be empty."})),e.abrupt("return",setTimeout((function(){return a(Object(ee.a)(Object(ee.a)({},c),{},{error:""}))}),[3e3]));case 4:if(!(x.length<6)){e.next=7;break}return a(Object(ee.a)(Object(ee.a)({},c),{},{error:"Password must be atleast 6 characters."})),e.abrupt("return",setTimeout((function(){return a(Object(ee.a)(Object(ee.a)({},c),{},{error:""}))}),[3e3]));case 7:if(v===x){e.next=10;break}return a(Object(ee.a)(Object(ee.a)({},c),{},{error:"Passwords do not match."})),e.abrupt("return",setTimeout((function(){return a(Object(ee.a)(Object(ee.a)({},c),{},{error:""}))}),[3e3]));case 10:return e.prev=10,u(!0),e.next=14,d.a.post("/auth/register",{email:h,password:x,username:p});case 14:g.push("/login"),e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(10),!e.t0.response.data){e.next=22;break}return a(Object(ee.a)(Object(ee.a)({},c),{},{error:e.t0.response.data.msg})),e.abrupt("return",setTimeout((function(){u(!1),a(Object(ee.a)(Object(ee.a)({},c),{},{error:""}))}),[3e3]));case 22:u(!1);case 23:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"register",children:[Object(y.jsxs)("div",{className:"registerLeft",children:[Object(y.jsx)("h2",{children:"G-STAR"}),Object(y.jsx)("img",{src:"https://cdn.dribbble.com/users/24078/screenshots/15522433/media/e92e58ec9d338a234945ae3d3ffd5be3.jpg?compress=1&resize=400x300",alt:"",className:"registerImg"})]}),Object(y.jsx)("div",{className:"registerRight",children:Object(y.jsxs)("form",{className:"registerForm",onSubmit:w,children:[Object(y.jsx)("h4",{className:"registerHead",children:"Register Now"}),f&&Object(y.jsx)("span",{style:{color:"red",fontSize:"17px"},children:f}),Object(y.jsx)("input",{onChange:N,value:p,name:"username",type:"text",className:"registerInput",placeholder:"Username here"}),Object(y.jsx)("input",{onChange:N,value:h,name:"email",type:"email",className:"registerInput",placeholder:"Email here"}),Object(y.jsx)("input",{onChange:N,value:x,name:"password",type:"password",className:"registerInput",placeholder:"Password here"}),Object(y.jsx)("input",{onChange:N,value:v,name:"cf_password",type:"password",className:"registerInput",placeholder:"Confirm Password here"}),Object(y.jsx)("button",{className:"registerButton",type:"submit",children:j?Object(y.jsx)(M.a,{style:{color:"white"}}):"Register"}),Object(y.jsx)("p",{className:"registerAccountCheck",children:"Don't have an account yet?"}),Object(y.jsx)(b.b,{className:"registerLoginButton",to:"/login",type:"submit",children:"Login"})]})})]})},be=function(){return Object(y.jsxs)("div",{className:"landing",children:[Object(y.jsx)("div",{className:"landing-img-container",children:Object(y.jsx)("img",{src:"http://localhost:3000/images/landingPage.png",alt:"none"})}),Object(y.jsx)("div",{className:"landing-content",children:Object(y.jsxs)("div",{className:"landing-wrapper",children:[Object(y.jsx)("h1",{style:{background:"#eee",width:"fit-content",margin:"10px auto",color:"blue"},children:"G-STAR"}),Object(y.jsx)("h1",{children:"CONNECT WITH FRIENDS"}),Object(y.jsx)(b.b,{style:{background:"teal",padding:"12px",color:"white"},to:"/login",children:"Login Now"})]})})]})},me=s(201);s(162);var Oe=function(e){var t=e.noti;return Object(y.jsx)("div",{className:"notification-content",children:Object(y.jsx)("p",{children:t})})};var he=function(){var e,t,s,n=Object(m.g)(),c=Object(u.c)((function(e){return e.auth})),a=c.user,r=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/users/deleteNotification/".concat(a._id));case 2:t=e.sent,n.replace("notifications"),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)(k,{}),Object(y.jsxs)("div",{className:"notification",children:[Object(y.jsx)(R,{}),Object(y.jsxs)("div",{className:"notification-wrapper",children:[Object(y.jsx)("h1",{children:"Notifications"}),0===(null===c||void 0===c||null===(e=c.user)||void 0===e?void 0:e.notifications.length)?Object(y.jsx)("h1",{children:"You do not have any Notifications"}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{onClick:r,className:"deletePanel",children:[Object(y.jsx)("span",{children:"Clear All"}),Object(y.jsx)(me.a,{style:{color:"red",fontSize:"30px"}})]}),null===c||void 0===c||null===(t=c.user)||void 0===t||null===(s=t.notifications)||void 0===s?void 0:s.map((function(e){return Object(y.jsx)(Oe,{noti:e},e)}))]})]}),Object(y.jsx)(q,{})]})]})};s(163);var pe=function(e){var t=e.user,s=e.currentUser,n=e.cb,c=e.setCb,a=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("api/conversation",{senderId:null===s||void 0===s?void 0:s._id,recieverId:null===t||void 0===t?void 0:t._id});case 3:c(!n),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"allUsers-content",children:[Object(y.jsx)("div",{className:"image",children:Object(y.jsx)("img",{src:null===t||void 0===t?void 0:t.profilePic.url,alt:""})}),Object(y.jsxs)("div",{className:"details",children:[Object(y.jsx)("h4",{children:null===t||void 0===t?void 0:t.username}),Object(y.jsxs)("button",{onClick:a,children:["Add ",null===t||void 0===t?void 0:t.username]}),Object(y.jsx)("button",{children:Object(y.jsxs)(b.b,{style:{color:"white",textDecoration:"none"},to:"/profile/".concat(t.username),children:["View ",null===t||void 0===t?void 0:t.username]})})]})]},t._id)};var xe=function(){Object(m.g)();var e=Object(u.c)((function(e){return e.auth})).user,t=Object(n.useState)(),s=Object(O.a)(t,2),c=(s[0],s[1],Object(n.useState)([])),a=Object(O.a)(c,2),r=a[0],i=a[1],j=Object(n.useState)(!1),b=Object(O.a)(j,2),h=b[0],p=b[1];return Object(n.useEffect)((function(){try{(function(){var t=Object(l.a)(o.a.mark((function t(){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/users/allUsers");case 2:s=t.sent,i(s.data.filter((function(t){return t._id!==(null===e||void 0===e?void 0:e._id)})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}catch(t){console.log(t)}}),[e._id]),Object(y.jsxs)("div",{children:[Object(y.jsx)(k,{cb:h}),Object(y.jsxs)("div",{className:"allUsers",children:[Object(y.jsx)(R,{}),Object(y.jsxs)("div",{className:"allUsers-wrapper",children:[Object(y.jsx)("h1",{children:"Getting started? Find friends"}),null===r||void 0===r?void 0:r.map((function(t){return Object(y.jsx)(pe,{setCb:p,cb:h,user:t,currentUser:e},t._id)}))]}),Object(y.jsx)(q,{})]})]})},ve=function(){var e=Object(m.h)().pathname.split("/")[2];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(k,{}),Object(y.jsx)("div",{style:{padding:"20px 15rem",overflow:"hidden"},className:"home",children:Object(y.jsx)(X,{style:{flex:"1"},SinglePostId:e})})]})};var fe=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.token})).token,s=Object(u.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){if(localStorage.getItem("firstLogin"))try{(function(){var t=Object(l.a)(o.a.mark((function t(){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/auth/refresh_token",null);case 2:s=t.sent,e({type:"GET_TOKEN",payload:s.data});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}catch(t){console.log(t.response.data.msg)}}),[e,s.isLogged]),Object(n.useEffect)((function(){t&&function(){var s=Object(l.a)(o.a.mark((function s(){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e(N()),s.abrupt("return",I(t).then((function(t){e(S(t))})));case 2:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}()()}),[t,e]),Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(b.a,{children:[Object(y.jsx)(m.a,{to:s.isLogged?"/home":"/"}),Object(y.jsxs)(m.d,{children:[Object(y.jsx)(m.b,{exact:!0,path:"/profile/:username",children:Object(y.jsx)(je,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/",children:Object(y.jsx)(be,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/messenger",children:Object(y.jsx)(le,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/home",children:Object(y.jsx)(Z,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/post/:id",children:Object(y.jsx)(ve,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/register",children:Object(y.jsx)(ue,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/login",children:Object(y.jsx)(se,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/notifications",children:Object(y.jsx)(he,{})}),Object(y.jsx)(m.b,{exact:!0,path:"/allUsers",children:Object(y.jsx)(xe,{})})]})]})})},ge=s(48),Ne={user:[],isLogged:!1,isAdmin:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.LOGIN:return Object(ee.a)(Object(ee.a)({},e),{},{isLogged:!0});case g.GET_USER:return Object(ee.a)(Object(ee.a)({},e),{},{user:t.payload.user,isAdmin:t.payload.isAdmin});case g.LOGOUT:return Object(ee.a)(Object(ee.a)({},e),{},{user:[],isLogged:!1,isAdmin:!1});default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.GET_TOKEN:return{token:t.payload};default:return e}},Se=s(88),ye=s.n(Se),ke=Object(ge.a)({auth:we,token:Ie,posts:ye.a}),_e=Object(ge.b)(ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var Ee=function(e){var t=e.children;return Object(y.jsx)(u.a,{store:_e,children:t})};r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(Ee,{children:Object(y.jsx)(fe,{})})}),document.getElementById("root"))},68:function(e,t,s){},88:function(e,t){}},[[164,1,2]]]);
//# sourceMappingURL=main.53dcf3ee.chunk.js.map